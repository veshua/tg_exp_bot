# Telegram Bot для учета расходов

Этот бот помогает вести учет расходов с сохранением данных в Google Таблицы.

## Функции
1. **Добавление расходов** с указанием:
   - Дата (через календарь)
   - Категория (из справочника)
   - Сумма
   - Комментарий (опционально)
2. **Синхронизация с Google Таблицами**
3. **Управление справочником категорий**

## Настройка

### 1. Создайте Telegram бота
1. Напишите [@BotFather](https://t.me/BotFather)
2. Используйте команду `/newbot`
3. Скопируйте полученный токен

### 2. Создайте Google Service Account
1. Откройте [Google Cloud Console](https://console.cloud.google.com/)
2. Создайте новый проект
3. Перейдите в "APIs & Services" → "Credentials"
4. Создайте "Service Account"
5. Скачайте JSON-ключи (файл `credentials.json`)
6. Дайте аккаунту права редактора

### 3. Создайте Google Таблицу
1. Создайте новую таблицу
2. Добавьте два листа:
   - `cat` - для категорий (столбец A: названия категорий)
   - `exp` - для расходов (колонки: Date, Category, Sum, Comment)
3. Предоставьте доступ сервисному аккаунту (email из JSON-файла)

### 4. Настройка окружения
1. Создайте файл `.env` с содержанием:
   ```
   TELEGRAM_TOKEN=ваш_токен_бота
   ```
2. Поместите `credentials.json` в корень проекта

### 5. Установите зависимости
```bash
pip install -r requirements.txt
```

### 6. Запустите бота
```bash
python main.py
```

## Использование
1. **Установите таблицу**:
   ```
   /set_sheet https://docs.google.com/.../edit
   ```
2. **Добавьте категории** на лист `cat`
3. **Добавляйте расходы**:
   ```
   /add_expense
   ```

## Команды
- `/start` - Начало работы
- `/help` - Помощь
- `/set_sheet` - Установить Google таблицу
- `/add_expense` - Добавить расход